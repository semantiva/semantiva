<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Run Space (v1): blocks that expand context" href="run_space.html"><link rel="prev" title="Semantiva Contracts" href="contracts.html">

    <!-- Generated with Sphinx 8.1.3 and Furo 2025.09.25 -->
        <title>Derive Parameter Sweep - Semantiva 0.5.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=7205999f" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Semantiva 0.5.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">Semantiva 0.5.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_components.html">Creating Components (Authoring Guide)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Semantiva CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Extending Semantiva (Registries &amp; Extensions)</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline.html">Pipelines in Semantiva</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_types.html">Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_processors.html">Data Processors</a></li>
<li class="toctree-l1"><a class="reference internal" href="utility_processors.html">Utility Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_io.html">Data IO (Sources &amp; Sinks)</a></li>
<li class="toctree-l1"><a class="reference internal" href="context_processors.html">Context Processors</a></li>
<li class="toctree-l1"><a class="reference internal" href="contracts.html">Semantiva Contracts</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Derive Parameter Sweep</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_space.html">Run Space (v1): blocks that expand context</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="studio_viewer.html">Semantiva Studio Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="identity_cheatsheet.html">Identity Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="inspection.html">Inspection Payload &amp; CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="ser.html">Semantic Execution Record (SER) v1</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema_semantic_execution_record_v1.html">SER v1 JSON Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="trace_stream_v1.html">Trace Stream v1</a></li>
<li class="toctree-l1"><a class="reference internal" href="trace_aggregator_v1.html">Trace Aggregator v1</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_space_emission.html">Run-Space Emission (Runtime)</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_space_lifecycle.html">Run-Space Lifecycle</a></li>
<li class="toctree-l1"><a class="reference internal" href="introspection_validation.html">Introspection &amp; Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph.html">Canonical Graph Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture/registry.html">Registry System</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture/context_processing.html">Context Processing Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture/pipeline_schema.html">Pipeline Configuration Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows_fitting_models.html">Workflows — Fitting Models via <code class="docutils literal notranslate"><span class="pre">model:</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/run_space_quickstart.html">Run Space Quickstart (Local)</a></li>
<li class="toctree-l1"><a class="reference internal" href="logger.html">Logger</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples_index.html">Examples Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="trace_graph_alignment.html">Trace ↔ Graph Alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/testing_strategies.html">Testing Strategies and Best Practices</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/sweeps.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="derive-parameter-sweep">
<h1>Derive Parameter Sweep<a class="headerlink" href="#derive-parameter-sweep" title="Link to this heading">¶</a></h1>
<section id="objective">
<h2>Objective<a class="headerlink" href="#objective" title="Link to this heading">¶</a></h2>
<p>This page documents <strong>derive-based parameter sweeps</strong> — the mechanism that
<strong>computes processor parameters before execution</strong> and <strong>expands</strong> a node into
multiple runs when variables enumerate more than one value.</p>
</section>
<section id="key-idea">
<h2>Key Idea<a class="headerlink" href="#key-idea" title="Link to this heading">¶</a></h2>
<p>Under a node, the reserved preprocessor boundary <code class="docutils literal notranslate"><span class="pre">derive</span></code> hosts named
preprocessors. The <strong>parameter_sweep</strong> preprocessor computes <strong>call-time
parameters</strong> from <strong>variables</strong> and (optionally) expands the run-space.</p>
<p><strong>Parameters first, Variables second:</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pipeline</span><span class="p">:</span>
<span class="w">  </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FloatValueDataSource</span>
<span class="w">      </span><span class="nt">derive</span><span class="p">:</span>
<span class="w">        </span><span class="nt">parameter_sweep</span><span class="p">:</span>
<span class="w">          </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">            </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0 * t</span>
<span class="w">          </span><span class="nt">variables</span><span class="p">:</span>
<span class="w">            </span><span class="nt">t</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> lo</span><span class="p">:</span><span class="w"> </span><span class="nv">-1.0</span><span class="p p-Indicator">,</span><span class="nt"> hi</span><span class="p">:</span><span class="w"> </span><span class="nv">2.0</span><span class="p p-Indicator">,</span><span class="nt"> steps</span><span class="p">:</span><span class="w"> </span><span class="nv">3</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">combinatorial</span>
<span class="w">          </span><span class="nt">broadcast</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">          </span><span class="nt">collection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FloatDataCollection</span>
</pre></div>
</div>
</section>
<section id="what-it-does">
<h2>What it does<a class="headerlink" href="#what-it-does" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>Computes</strong> the parameter <code class="docutils literal notranslate"><span class="pre">value</span></code> from an expression using variable <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p></li>
<li><p><strong>Expands</strong> into a collection typed by <code class="docutils literal notranslate"><span class="pre">collection</span></code> (DataSource/DataOperation).</p></li>
<li><p><strong>Publishes</strong> <code class="docutils literal notranslate"><span class="pre">t_values</span></code> in the context.</p></li>
</ul>
</section>
<section id="supported-kinds">
<h2>Supported kinds<a class="headerlink" href="#supported-kinds" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>DataSource</strong> → generates a collection via repeated <code class="docutils literal notranslate"><span class="pre">get_data(...)</span></code></p></li>
<li><p><strong>DataOperation</strong> → augmentation-style expansion via repeated <code class="docutils literal notranslate"><span class="pre">process(data,</span> <span class="pre">...)</span></code></p></li>
<li><p><strong>DataProbe</strong> → returns a <strong>list</strong> of probe results (no <code class="docutils literal notranslate"><span class="pre">collection</span></code>); probe nodes
persist via <code class="docutils literal notranslate"><span class="pre">context_key</span></code> (node-level) and pass-through input</p></li>
</ul>
</section>
<section id="yaml-reference-inside-derive-parameter-sweep">
<h2>YAML Reference (inside <code class="docutils literal notranslate"><span class="pre">derive.parameter_sweep</span></code>)<a class="headerlink" href="#yaml-reference-inside-derive-parameter-sweep" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parameters</span></code> (mapping; <strong>required</strong>): computed call-args (expressions).
Keys <strong>must</strong> match callee argument names.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">variables</span></code> (mapping; <strong>required</strong>): variable definitions used by expressions.
- Range: <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">lo:</span> <span class="pre">&lt;float&gt;,</span> <span class="pre">hi:</span> <span class="pre">&lt;float&gt;,</span> <span class="pre">steps:</span> <span class="pre">&lt;int&gt;</span> <span class="pre">[,</span> <span class="pre">scale:</span> <span class="pre">linear|log]</span> <span class="pre">}</span></code>
- Sequence: <code class="docutils literal notranslate"><span class="pre">[v1,</span> <span class="pre">v2,</span> <span class="pre">...]</span></code>
- FromContext: <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">from_context:</span> <span class="pre">&lt;key&gt;</span> <span class="pre">}</span></code> (must yield a non-empty sequence)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">collection</span></code> (string; <strong>required for DataSource/DataOperation</strong>, <strong>forbidden for DataProbe</strong>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mode</span></code>: <code class="docutils literal notranslate"><span class="pre">combinatorial</span></code> (default) or <code class="docutils literal notranslate"><span class="pre">by_position</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">broadcast</span></code>: boolean (default <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p></li>
</ul>
</section>
<section id="merge-semantics">
<h2>Merge semantics<a class="headerlink" href="#merge-semantics" title="Link to this heading">¶</a></h2>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Source</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">derive.parameter_sweep.parameters</span></code></p></td>
<td><p><strong>Computed</strong> values for callee args</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">node.parameters</span></code></p></td>
<td><p><strong>Provided</strong> literals/resolvers for others</p></td>
</tr>
<tr class="row-even"><td><p>callee defaults</p></td>
<td><p>Used when neither computed nor provided</p></td>
</tr>
</tbody>
</table>
</div>
<p>If the same name appears in both places, <strong>computed wins</strong>.</p>
</section>
<section id="modes-failure-cases">
<h2>Modes &amp; failure cases<a class="headerlink" href="#modes-failure-cases" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">combinatorial</span></code>: Cartesian product across variables.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">by_position</span></code>: zip-style alignment. <strong>Error</strong> if variable sequences have
different lengths.</p></li>
<li><p><strong>Probe</strong> sweeps <strong>must not</strong> declare <code class="docutils literal notranslate"><span class="pre">collection</span></code>.</p></li>
<li><p><strong>Unknown parameter names</strong> in <code class="docutils literal notranslate"><span class="pre">parameters</span></code> → hard error with the callee’s signature.</p></li>
</ul>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<p><strong>DataSource</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FloatValueDataSource</span>
<span class="w">  </span><span class="nt">derive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">parameter_sweep</span><span class="p">:</span>
<span class="w">      </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0 * t</span>
<span class="w">      </span><span class="nt">variables</span><span class="p">:</span>
<span class="w">        </span><span class="nt">t</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> lo</span><span class="p">:</span><span class="w"> </span><span class="nv">-1.0</span><span class="p p-Indicator">,</span><span class="nt"> hi</span><span class="p">:</span><span class="w"> </span><span class="nv">2.0</span><span class="p p-Indicator">,</span><span class="nt"> steps</span><span class="p">:</span><span class="w"> </span><span class="nv">3</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">      </span><span class="nt">collection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FloatDataCollection</span>
</pre></div>
</div>
<p><strong>DataOperation (augmentation)</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FloatMultiplyOperation</span>
<span class="w">  </span><span class="nt">derive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">parameter_sweep</span><span class="p">:</span>
<span class="w">      </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">        </span><span class="nt">factor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">f</span>
<span class="w">      </span><span class="nt">variables</span><span class="p">:</span>
<span class="w">        </span><span class="nt">f</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> lo</span><span class="p">:</span><span class="w"> </span><span class="nv">1.0</span><span class="p p-Indicator">,</span><span class="nt"> hi</span><span class="p">:</span><span class="w"> </span><span class="nv">3.0</span><span class="p p-Indicator">,</span><span class="nt"> steps</span><span class="p">:</span><span class="w"> </span><span class="nv">3</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">      </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">by_position</span>
<span class="w">      </span><span class="nt">collection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FloatDataCollection</span>
</pre></div>
</div>
<p><strong>DataProbe</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FloatCollectValueProbe</span>
<span class="w">  </span><span class="nt">derive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">parameter_sweep</span><span class="p">:</span>
<span class="w">      </span><span class="nt">parameters</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
<span class="w">      </span><span class="nt">variables</span><span class="p">:</span>
<span class="w">        </span><span class="nt">n</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> lo</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="nt"> hi</span><span class="p">:</span><span class="w"> </span><span class="nv">3</span><span class="p p-Indicator">,</span><span class="nt"> steps</span><span class="p">:</span><span class="w"> </span><span class="nv">3</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="nt">context_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">probe_values</span>
</pre></div>
</div>
<p><strong>FromContext: Runtime Sequence Discovery</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">FromContext</span></code> variable specification enables sweeps over sequences that
are discovered or computed earlier in the pipeline. This is useful for dynamic
workflows where sweep values depend on runtime conditions or previous processing
results.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FloatValueDataSource</span>
<span class="w">  </span><span class="nt">derive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">parameter_sweep</span><span class="p">:</span>
<span class="w">      </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">float(input_value)</span>
<span class="w">      </span><span class="nt">variables</span><span class="p">:</span>
<span class="w">        </span><span class="nt">input_value</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> from_context</span><span class="p">:</span><span class="w"> </span><span class="nv">discovered_values</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">      </span><span class="nt">collection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FloatDataCollection</span>
</pre></div>
</div>
<p><strong>Requirements:</strong></p>
<ul class="simple">
<li><p>The context key must exist at runtime and contain a non-empty, non-string sequence</p></li>
<li><p>The sweep processor exposes the context key via <code class="docutils literal notranslate"><span class="pre">get_context_requirements()</span></code> for inspection</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">{var}_values</span></code> context entry is created (e.g., <code class="docutils literal notranslate"><span class="pre">input_value_values</span></code>) containing the
materialized sequence for downstream use</p></li>
</ul>
<p><strong>Example usage with CLI:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>semantiva<span class="w"> </span>run<span class="w"> </span>from_context_sweep_demo.yaml<span class="w"> </span>--context<span class="w"> </span><span class="nv">discovered_values</span><span class="o">=</span><span class="s1">&#39;[1.3, 2.5, 3.7]&#39;</span>
</pre></div>
</div>
<p>This pattern supports workflows where:</p>
<ul class="simple">
<li><p>File lists are discovered via directory scanning</p></li>
<li><p>Parameter sets are loaded from configuration files</p></li>
<li><p>Previous pipeline stages produce candidate values for downstream sweeps</p></li>
</ul>
</section>
<section id="inspection">
<h2>Inspection<a class="headerlink" href="#inspection" title="Link to this heading">¶</a></h2>
<p>Inspection surfaces which parameters were <strong>computed</strong>, <strong>provided</strong>,
<strong>defaulted</strong>, or remain <strong>required_external_parameters</strong> (unbound callee args
you still need to provide). For nodes using <code class="docutils literal notranslate"><span class="pre">derive.parameter_sweep</span></code>,
inspection also includes <code class="docutils literal notranslate"><span class="pre">derived_summary</span></code> and <code class="docutils literal notranslate"><span class="pre">preprocessor_metadata</span></code>
attributes. See <a class="reference internal" href="introspection_validation.html"><span class="doc">Introspection &amp; Validation</span></a> for complete inspection details.</p>
</section>
<section id="parameter-provenance-tracking">
<h2>Parameter Provenance Tracking<a class="headerlink" href="#parameter-provenance-tracking" title="Link to this heading">¶</a></h2>
<p>Semantiva records complete provenance for all processor parameters in the
Semantic Execution Record (SER) trace format, enabling full traceability of
parameter origins for auditing, debugging, and reproducibility.</p>
<p><strong>Provenance Mechanisms</strong></p>
<p>Each SER record contains two complementary fields in the <code class="docutils literal notranslate"><span class="pre">processor</span></code> section:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parameters</span></code>: The actual runtime values used for execution</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parameter_sources</span></code>: The origin of each parameter value</p></li>
</ol>
<p><strong>Parameter Source Classification</strong></p>
<p>Every parameter is tagged with one of three source types:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Source Type</p></th>
<th class="head"><p>Origin</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;node&quot;</span></code></p></td>
<td><p>Declared in YAML <code class="docutils literal notranslate"><span class="pre">parameters</span></code> or <code class="docutils literal notranslate"><span class="pre">derive.parameter_sweep.parameters</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">factor:</span> <span class="pre">2.0</span></code> in node config</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;context&quot;</span></code></p></td>
<td><p>Read from pipeline context (including <code class="docutils literal notranslate"><span class="pre">FromContext</span></code> variables)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">from_context:</span> <span class="pre">discovered_values</span> <span class="pre">}</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;default&quot;</span></code></p></td>
<td><p>Processor’s <code class="docutils literal notranslate"><span class="pre">get_default_params()</span></code> fallback</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">defaulted:</span> <span class="pre">3.0</span></code> when not provided</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>SER Trace Example</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;record_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ser&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;processor&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;semantiva.examples.test_utils.FloatMultiplyOperation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;factor&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;from_ctx&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;defaulted&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;parameter_sources&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;factor&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;from_ctx&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;context&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;defaulted&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;default&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;context_delta&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;created_keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;t_values&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;read_keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;from_ctx&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;updated_keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>FromContext Variable Provenance</strong></p>
<p>When using <code class="docutils literal notranslate"><span class="pre">FromContext</span></code> specifications, provenance tracking includes:</p>
<ul class="simple">
<li><p><strong>Pre-execution</strong>: <code class="docutils literal notranslate"><span class="pre">get_required_external_parameters()</span></code> exposes context dependencies
during inspection</p></li>
<li><p><strong>Runtime</strong>: The context key is recorded in <code class="docutils literal notranslate"><span class="pre">context_delta.read_keys</span></code></p></li>
<li><p><strong>Materialization</strong>: Created sequences appear in <code class="docutils literal notranslate"><span class="pre">context_delta.created_keys</span></code> as
<code class="docutils literal notranslate"><span class="pre">{var}_values</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">t_values</span></code>)</p></li>
<li><p><strong>Parameter source</strong>: The resolved variable value is tagged as <code class="docutils literal notranslate"><span class="pre">&quot;context&quot;</span></code></p></li>
</ul>
<p><strong>Sweep-Generated Context Entries</strong></p>
<p>Parameter sweeps publish <code class="docutils literal notranslate"><span class="pre">{var}_values</span></code> sequences to the context for each variable.
These entries enable downstream processors or subsequent sweeps to access the
computed parameter sets:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># After sweep execution with variable &#39;t&#39;</span>
<span class="k">assert</span> <span class="s2">&quot;t_values&quot;</span> <span class="ow">in</span> <span class="n">context</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="c1"># Contains: [lo, ..., hi] based on variable spec</span>
</pre></div>
</div>
<p><strong>Provenance Benefits</strong></p>
<ol class="arabic simple">
<li><p><strong>Reproducibility</strong>: Exact parameter values and origins are preserved</p></li>
<li><p><strong>Debugging</strong>: Trace parameter resolution back to YAML config or context</p></li>
<li><p><strong>Auditing</strong>: Distinguish configured values from runtime-discovered values</p></li>
<li><p><strong>Inspection</strong>: Identify missing context requirements before execution</p></li>
</ol>
<p>See <a class="reference internal" href="ser.html"><span class="doc">Semantic Execution Record (SER) v1</span></a> for complete SER record structure and schema details.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="run_space.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Run Space (v1): blocks that expand context</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="contracts.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Semantiva Contracts</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Rafael Pezzi, Marcos Deros
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Derive Parameter Sweep</a><ul>
<li><a class="reference internal" href="#objective">Objective</a></li>
<li><a class="reference internal" href="#key-idea">Key Idea</a></li>
<li><a class="reference internal" href="#what-it-does">What it does</a></li>
<li><a class="reference internal" href="#supported-kinds">Supported kinds</a></li>
<li><a class="reference internal" href="#yaml-reference-inside-derive-parameter-sweep">YAML Reference (inside <code class="docutils literal notranslate"><span class="pre">derive.parameter_sweep</span></code>)</a></li>
<li><a class="reference internal" href="#merge-semantics">Merge semantics</a></li>
<li><a class="reference internal" href="#modes-failure-cases">Modes &amp; failure cases</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#inspection">Inspection</a></li>
<li><a class="reference internal" href="#parameter-provenance-tracking">Parameter Provenance Tracking</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=1dd76d02"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>